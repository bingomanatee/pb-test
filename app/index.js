System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/classes/HSL.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(a,b,c){this.hue=a,this.sat=b,this.light=c}return Object.defineProperty(a.prototype,"hueString",{get:function(){return""+this.hue},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"satString",{get:function(){return this.sat+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lightString",{get:function(){return this.light+"%"},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return"hsl("+this.hueString+", "+this.satString+", "+this.lightString+")"},a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d,c.exports}),System.registerDynamic("app/classes/randomColor.js",["./HSL"],!0,function(a,b,c){"use strict";var d=a("./HSL"),e=360,f=0,g=8,h=(e-f)/g,i=20,j=80,k=4,l=(j-i)/k,m=20,n=80,o=4,p=(n-m)/o,q=function(a,b,c,d,e){var f=Math.floor(e()*b),g=c+a*f;return Math.min(d,Math.max(c,g))};return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){var b=q(h,g,f,e,a),c=q(p,o,m,n,a),r=q(l,k,i,j,a);return new d["default"](b,r,c)},c.exports}),System.registerDynamic("app/classes/Sample.js",["./randomColor"],!0,function(a,b,c){"use strict";var d=a("./randomColor"),e=function(){function a(a,b,c){this.name=a,this.code=b,this.color=d["default"](c)}return Object.defineProperty(a.prototype,"color",{get:function(){return this._color},set:function(a){this._color=a},enumerable:!0,configurable:!0}),a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e,c.exports}),System.registerDynamic("app/classes/TableModel.js",["./Entry","./Location","./Sample"],!0,function(a,b,c){"use strict";var d=a("./Entry"),e=a("./Location"),f=a("./Sample"),g=function(){return Math.random()},h=function(){function a(a,b,c,d){this.width=a,this.height=b,this.columns=c,this.rows=d,this._samples=new Map,this._entries=new Map}return Object.defineProperty(a.prototype,"columnWidth",{get:function(){return Math.floor(this.width/(1+this.columns))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rowHeight",{get:function(){return Math.floor(this.height/(1+this.rows))},enumerable:!0,configurable:!0}),a.prototype.columnLabel=function(a){return e["default"].columnFor(a)},a.prototype.rowLabel=function(a){return e["default"].rowFor(a)},a.prototype.cellState=function(a,b){return{}},a.prototype.getLocation=function(a,b){return""+this.rowLabel(a-1)+this.columnLabel(b-1)},a.prototype.addEntryAtIJ=function(a,b,c,f){var g=this.addSample(f),h=new d["default"](new e["default"](a,b),c,g);this.entries.set(h.index,h)},a.prototype.addEntry=function(a,b,c){var f=this.addSample(c),g=new d["default"](e["default"].fromString(a),b,f);this.entries.set(g.index,g)},Object.defineProperty(a.prototype,"entryList",{get:function(){return Array.from(this.entries.values())},enumerable:!0,configurable:!0}),a.prototype.hasEntry=function(a){return this.entries.has(a)},a.prototype.hasEntryAtIJ=function(a,b){var c=e["default"].indexFor(a,b);return this.hasEntry(c)},a.prototype.getEntryAtIJ=function(a,b){var c=e["default"].indexFor(a,b);return this.entries.get(c)},Object.defineProperty(a.prototype,"samples",{get:function(){return this._samples},enumerable:!0,configurable:!0}),a.prototype.addSample=function(a){if(this.samples.has(a))return this.samples.get(a);var b=this.codeForName(a),c=new f["default"](a,b,g);return this.samples.set(a,c),c},Object.defineProperty(a.prototype,"entries",{get:function(){return this._entries},enumerable:!0,configurable:!0}),a.prototype.remove=function(a){var b=a.toUpperCase();this.hasEntry(b)&&this.entries["delete"](b)},a.prototype.codeForName=function(a){var b=[];if(/ /.test(a)){var c=a.split(/[\s]+/g);if(c.length>2)for(;b.length<3;){var d=c.shift();b.push(d.substr(0,1))}else b.push(c[0].substr(0,1)),b.push(c[0].substr(1,1)),b.push(c[1].substr(0,1))}else for(var e=0;e<a.length&&3>e;)b.push(a.substr(e,1)),++e;for(;b.length<3;)b.push("_");for(var f=1;this.hasCode(b.join(""));)b[2]=++f;return b.join("").toUpperCase()},a.prototype.hasCode=function(a){for(var b=0,c=Array.from(this.samples.values());b<c.length;b++){var d=c[b];if(d.code===a)return!0}return!1},a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=h,c.exports}),System.registerDynamic("app/classes/Entry.js",[],!0,function(a,b,c){"use strict";var d=function(){function a(a,b,c){this.location=a,this.reactionTime=b,this.sample=c}return Object.defineProperty(a.prototype,"index",{get:function(){return this.location.index},enumerable:!0,configurable:!0}),Object.defineProperty(a,"MAX_REACTION_TIME",{get:function(){return 90},enumerable:!0,configurable:!0}),a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d,c.exports}),System.registerDynamic("app/classes/TableDrawer.js",["./Entry","./Location"],!0,function(a,b,c){"use strict";var d=a("./Entry"),e=a("./Location"),f=2,g=10,h=.9,i=3,j=function(){function a(a,b){if(this.table=a,this.canvasId=b,this.canvasId){var c=document.getElementById(this.canvasId);c?this.context=c.getContext("2d"):console.log("no canvas for ",this.canvasId),this.draw()}}return Object.defineProperty(a.prototype,"context",{get:function(){return this._context},set:function(a){this._context=a},enumerable:!0,configurable:!0}),a.prototype._clearStage=function(){this.context&&this.context.clearRect(0,0,this.table.width,this.table.height)},a.prototype.draw=function(){if(this.context){this._clearStage();for(var a=0;a<this.table.columns;++a)this._drawLabel(this.table.columnLabel(a),a+1,0);for(var b=0;b<this.table.rows;++b){this._drawLabel(this.table.rowLabel(b),0,b+1);for(var c=1;c<=this.table.columns;++c)this._drawCircle(this.table.cellState(c,b+1),c,b+1)}}},a.prototype._drawCircle=function(a,b,c){if(this.context){var j=this.box(b,c),k=j.minRadius*h;this.context.save();var l=e["default"].indexFor(b-1,c-1),m=void 0;if(this.table.entries.has(l)){m=this.table.entries.get(l),console.log("found entry ",m,"at",l);var n=2*Math.PI*m.reactionTime/d["default"].MAX_REACTION_TIME;this.context.lineWidth=g,this.context.strokeStyle="black",this.context.beginPath(),this.context.moveTo(j.centerX,j.centerY),this.context.arc(j.centerX,j.centerY,k,0,n),this.context.lineTo(j.centerX,j.centerY),this.context.closePath(),this.context.stroke()}this.context.fillStyle="black",this.context.lineWidth=f,this.context.strokeStyle=m?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.15)",this.context.beginPath(),this.context.arc(j.centerX,j.centerY,k,0,2*Math.PI),this.context.closePath(),this.context.fillStyle=m?m.sample.color.toString():"white",this.context.fill(),this.context.stroke(),m&&(this.context.strokeStyle="rgba(0,0,0,0.25)",this.context.fillStyle="white",this.context.lineWidth=i,this.context.textBaseline="middle",this.context.textAlign="center",this.context.font=j.height/4+"px Arial",this.context.strokeText(m.sample.code,j.centerX,j.centerY),this.context.fillText(m.sample.code,j.centerX,j.centerY)),this.context.restore()}},a.prototype.box=function(a,b){var c=this.table.columnWidth,d=this.table.rowHeight,e=a*c,f=b*d,g=e+c,h=f+d,i=Math.round(c/2),j=Math.round(d/2),k=e+i,l=f+j,m=Math.min(i,j);return{top:f,left:e,right:g,bottom:h,width:c,height:d,centerX:k,centerY:l,minRadius:m}},a.prototype._drawLabel=function(a,b,c){if(this.context){this.context.save();var d=this.box(b,c);this.context.textBaseline="middle",this.context.textAlign="center",this.context.font=d.height/2+"px Arial",this.context.fillStyle="black",this.context.fillText(a,d.centerX,d.centerY),this.context.restore()}},a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=j,c.exports}),System.registerDynamic("app/classes/Location.js",[],!0,function(a,b,c){"use strict";var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),e=/^([A-Z])([\d]+)$/i,f=function(){function a(a,b,c){void 0===c&&(c=!1),this.i=a,this.j=b,this.invalid=c||!1}return Object.defineProperty(a.prototype,"invalid",{get:function(){return this._invalid},set:function(a){this._invalid=a},enumerable:!0,configurable:!0}),a.validString=function(a){return e.test(a)},a.fromString=function(b){var c,d=e.exec(b);return c=d?new a(a.columnFrom(d[2]),a.rowFrom(d[1])):new a(0,0,!0)},Object.defineProperty(a.prototype,"index",{get:function(){return a.indexFor(this.i,this.j)},enumerable:!0,configurable:!0}),a.indexFor=function(b,c){return""+a.rowFor(c)+a.columnFor(b)},a.columnFrom=function(a){return a?parseInt(a)-1:-1},a.rowFrom=function(a){var b=a.toUpperCase();if(!a)return-1;for(var c=0;c<d.length;++c)if(d[c]===b)return c;return-1},a.columnFor=function(a){return""+(a+1)},a.rowFor=function(a){return d[a]},a}();return Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=f,c.exports}),System.registerDynamic("app/pac-bio.component.js",["@angular/core","./classes/TableModel","./classes/TableDrawer","./classes/Location"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./classes/TableModel"),h=a("./classes/TableDrawer"),i=a("./classes/Location"),j=5,k=90,l=function(){function a(){this.title="pac-bio works!";var a=window.innerWidth>500?window.innerWidth>900?1:.5:.333;this.table=new g["default"](1300*a,900*a,12,8),this.location="",this._locationPristine=!0,this._reactionTimePristine=!0,this._sampleNamePristine=!0}return Object.defineProperty(a.prototype,"canAdd",{get:function(){return!(this._locationPristine||this._reactionTimePristine||this._sampleNamePristine||this.locationState||this.reactionTimeState||this.sampleNameState)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"location",{get:function(){return this._location},set:function(a){a!==this._location&&(this._locationPristine=!1),this._location=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"locationState",{get:function(){return this._locationPristine?"":this.location?/^[A-Z][\d]+$/i.test(this.location)?"":"Please format the location as A1, D12, etc.":"required"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"reactionTime",{get:function(){return this._reactionTime},set:function(a){a!==this._reactionTime&&(this._reactionTimePristine=!1),this._reactionTime=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"reactionTimeState",{get:function(){return this._reactionTimePristine?"":isNaN(this.reactionTime)?"numeric value required":this.reactionTime!==Math.max(j,Math.min(k,this.reactionTime))?"reactionTime must be between "+j+" and "+k+" (inclusive)":""},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sampleName",{get:function(){return this._sampleName},set:function(a){this._sampleNamePristine=!1,this._sampleName=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sampleNameState",{get:function(){return this._sampleNamePristine?"":this.sampleName?this.sampleName.length>64?"max characters: 64 ("+(this.sampleName.length-64)+" characters over)":/^[ \w]+$/.test(this.sampleName)?"":"only letters, spaces and numbers allowed":"required"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"table",{get:function(){return this._table},set:function(a){this._table=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"drawer",{get:function(){return this._drawer},set:function(a){this._drawer=a},enumerable:!0,configurable:!0}),a.prototype.ngAfterViewInit=function(){this.drawer=new h["default"](this.table,"grid")},a.prototype.gridStyle=function(){return{color:"red"}},a.prototype.addEntry=function(){this.table.addEntry(this.location,this.reactionTime,this.sampleName),this.drawer.draw(),this.reactionTime=null,this._reactionTimePristine=!0},a.prototype.removeEntry=function(){this.table.remove(this.location),this.reactionTime=null,this._reactionTimePristine=!0,this.drawer.draw()},Object.defineProperty(a.prototype,"canClear",{get:function(){return i["default"].validString(this.location)&&this.table.hasEntry(this.location)},enumerable:!0,configurable:!0}),a.prototype.canvasClick=function(a){var b=Math.floor(a.offsetX/this.table.columnWidth),c=Math.floor(a.offsetY/this.table.rowHeight);if(b&&c)if(--b,--c,this.table.hasEntryAtIJ(b,c)){var d=this.table.getEntryAtIJ(b,c);this.location=d.index,this.sampleName=d.sample.name,this.reactionTime=d.reactionTime}else this.location=i["default"].indexFor(b,c)},a=d([f.Component({moduleId:c.id,selector:"pac-bio-app",templateUrl:"pac-bio.component.html",styleUrls:["pac-bio.component.css"]}),e("design:paramtypes",[])],a)}();return b.PacBioAppComponent=l,c.exports}),System.registerDynamic("app/index.js",["./environment","./pac-bio.component"],!0,function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}return d(a("./environment")),d(a("./pac-bio.component")),c.exports});